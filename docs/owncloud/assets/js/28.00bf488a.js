(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{192:function(t,o,a){"use strict";a.r(o);var e=a(0),r=Object(e.a)({},function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"更多"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更多","aria-hidden":"true"}},[t._v("#")]),t._v(" 更多...")]),t._v(" "),a("p",[t._v("下面每一个方案，都经过实践证明行之有效，希望能够对你有帮助")]),t._v(" "),a("h2",{attrs:{id:"域名绑定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#域名绑定","aria-hidden":"true"}},[t._v("#")]),t._v(" 域名绑定")]),t._v(" "),a("p",[t._v("绑定域名的前置条件是：已经完成域名解析（登录域名控制台，增加一个A记录指向服务器公网IP）")]),t._v(" "),a("p",[t._v("完成域名解析后，从服务器安全和后续维护考量，需要完成"),a("strong",[t._v("域名绑定")]),t._v("：")]),t._v(" "),a("p",[t._v("ownCloud 域名绑定操作步骤：")]),t._v(" "),a("ol",[a("li",[t._v("使用 SFTP 工具登录云服务器")]),t._v(" "),a("li",[t._v("修改 "),a("router-link",{attrs:{to:"/zh/stack-components.html#apache"}},[t._v("虚拟机主机配置文件")]),t._v("，将其中的域名相关的值"),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('#### ownCloud(LAMP) bind domain #### \n\n  <VirtualHost *:80>\n  ServerName  www.mydomain.com # 修改成您的实际域名\n  DocumentRoot "/data/wwwroot/owncloud"\n  ...\n  \n#### ownCloud(LNMP) bind domain #### \n\n  server {\n   listen 80;\n   server_name owncloud.example.com; # 修改成您的实际域名\n  ...\n\n')])])])],1),t._v(" "),a("li",[t._v("保存配置文件，"),a("router-link",{attrs:{to:"/zh/admin-services.html#apache"}},[t._v("重启服务")])],1)]),t._v(" "),a("h2",{attrs:{id:"owncloud-更换域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#owncloud-更换域名","aria-hidden":"true"}},[t._v("#")]),t._v(" ownCloud 更换域名")]),t._v(" "),a("p",[t._v("如果 ownCloud 需要更换域名，具体操作如下：")]),t._v(" "),a("ol",[a("li",[t._v("完成新的域名解析和域名绑定")]),t._v(" "),a("li",[t._v("修改 "),a("router-link",{attrs:{to:"/zh/stack-components.html#owncloud"}},[t._v("OwnCloud 配置文件")]),t._v("中的域名值"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("'overwrite.cli.url' => 'owncloud.yourdomain.com', # 修改为新域名\n")])])])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/zh/admin-services.html#php-fpm"}},[t._v("重启 PHP-FPM 服务")]),t._v("后生效")],1)]),t._v(" "),a("h2",{attrs:{id:"owncloud-设置语言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#owncloud-设置语言","aria-hidden":"true"}},[t._v("#")]),t._v(" ownCloud 设置语言")]),t._v(" "),a("p",[t._v("登录owncloud，在后台 【Personal】>【General】中设置语言")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://libs.websoft9.com/Websoft9/DocsPicture/zh/owncloud/owncloud-zh-websoft9.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"owncloud-安装扩展"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#owncloud-安装扩展","aria-hidden":"true"}},[t._v("#")]),t._v(" ownCloud 安装扩展")]),t._v(" "),a("p",[t._v("Owncloud "),a("a",{attrs:{href:"https://marketplace.owncloud.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Marketplace"),a("OutboundLink")],1),t._v(" 包含大量的扩展（也叫apps），下面介绍如何安装它们")]),t._v(" "),a("ol",[a("li",[t._v("访问 "),a("a",{attrs:{href:"https://marketplace.owncloud.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Marketplace"),a("OutboundLink")],1),t._v(" ，搜索所需的应用（以 OwnBackup 为例）\n"),a("img",{attrs:{src:"https://libs.websoft9.com/Websoft9/DocsPicture/en/owncloud/owncloud-searchapps-websoft9.jpg",alt:""}})]),t._v(" "),a("li",[t._v("下载并解压")]),t._v(" "),a("li",[t._v("上传到 ownCloud 应用目录："),a("em",[t._v("data/wwwroot/owncloud/apps")]),t._v(" "),a("img",{attrs:{src:"https://libs.websoft9.com/Websoft9/DocsPicture/en/owncloud/owncloud-ftp-websoft9.png",alt:""}})]),t._v(" "),a("li",[t._v("启用 OwnBackup\n"),a("img",{attrs:{src:"https://libs.websoft9.com/Websoft9/DocsPicture/en/owncloud/owncloud-enableapps-websoft9.png",alt:""}})])]),t._v(" "),a("blockquote",[a("p",[t._v("除了下载安装之外，也可以通过 ownCloud 后台在线安装 Marketplace 应用")])]),t._v(" "),a("h3",{attrs:{id:"owncloud-集成-ldap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#owncloud-集成-ldap","aria-hidden":"true"}},[t._v("#")]),t._v(" ownCloud 集成 LDAP")]),t._v(" "),a("p",[t._v("当企业网盘与多个人使用的时候，用户需要与内部域控集成，以保证用户可以通过Windows账号集成。")]),t._v(" "),a("p",[t._v("OwnCloud提供了 LDAP 集成工具，具体参考官方方案："),a("em",[a("a",{attrs:{href:"https://doc.owncloud.org/server/admin_manual/configuration/user/user_auth_ldap.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("User Authentication with LDAP"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"owncloud-命令行工具-occ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#owncloud-命令行工具-occ","aria-hidden":"true"}},[t._v("#")]),t._v(" ownCloud 命令行工具-OCC")]),t._v(" "),a("p",[t._v("OCC命令是OwnCloud的命令行界面。您可以使用OCC执行许多常见的服务器操作，例如安装和升级OwnCloud，管理用户，加密，密码，LDAP设置等。")]),t._v(" "),a("h2",{attrs:{id:"owncloud-连接外部存储"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#owncloud-连接外部存储","aria-hidden":"true"}},[t._v("#")]),t._v(" ownCloud 连接外部存储")]),t._v(" "),a("p",[t._v("ownCloud 支持多种流行的企业存储服务，具体使用步骤如下：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("登录 ownCloud 后台，安装 "),a("strong",[t._v("External storage support")]),t._v(" 扩展\n"),a("img",{attrs:{src:"https://libs.websoft9.com/Websoft9/DocsPicture/en/owncloud/owncloud-enablestorage-websoft9.png",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("打开：【Admin】>【Add storage】>【External Storage】，选择一个外部存储服务\n"),a("img",{attrs:{src:"https://libs.websoft9.com/Websoft9/DocsPicture/en/owncloud/owncloud-enablestorage002-websoft9.png",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("根据实际情况进行设置\n"),a("img",{attrs:{src:"https://libs.websoft9.com/Websoft9/DocsPicture/en/owncloud/owncloud-auth_mechanism-websoft9.png",alt:""}})])])]),t._v(" "),a("p",[t._v("更多详情参考官方文档："),a("a",{attrs:{href:"https://doc.owncloud.org/server/admin_manual/configuration/files/external_storage/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("External Storage"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"owncloud-数据转移"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#owncloud-数据转移","aria-hidden":"true"}},[t._v("#")]),t._v(" ownCloud 数据转移")]),t._v(" "),a("p",[t._v("ownCloud 的程序和数据文件默认均存在系统盘，你要转移到数据盘（或对象存储），步骤如下：")]),t._v(" "),a("h3",{attrs:{id:"转移到数据盘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#转移到数据盘","aria-hidden":"true"}},[t._v("#")]),t._v(" 转移到数据盘")]),t._v(" "),a("ol",[a("li",[t._v("在服务器所在的云平台上购买数据盘，并"),a("strong",[t._v("挂载")]),t._v("到 OwnCloud 服务器")]),t._v(" "),a("li",[t._v("使用 SFTP 工具连接服务器，停止服务"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("systemctl stop httpd\n")])])])]),t._v(" "),a("li",[t._v("新建一个 "),a("em",[t._v("/data/wwwroot/owncloud2")]),t._v(" 文件夹")]),t._v(" "),a("li",[t._v("初始化数据盘，并将数据盘 "),a("strong",[t._v("mount")]),t._v(" 到新建的 "),a("em",[t._v("owncloud2")]),t._v(" 文件夹")]),t._v(" "),a("li",[t._v("将 "),a("em",[t._v("/data/wwwroot/owncloud")]),t._v(" 下的数据全部拷贝到 "),a("em",[t._v("/data/wwwroot/owncloud2")])]),t._v(" "),a("li",[t._v("修改 OwnCloud "),a("router-link",{attrs:{to:"/zh/stack-components.html#apache"}},[t._v("虚拟主机配置文件")]),t._v(" 的路径")],1),t._v(" "),a("li",[t._v("启动服务后生效"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("systemctl start httpd\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"转移到对象存储"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#转移到对象存储","aria-hidden":"true"}},[t._v("#")]),t._v(" 转移到对象存储")]),t._v(" "),a("ol",[a("li",[t._v("在服务器所在的云平台上购买对象存储，新建一个 "),a("strong",[t._v("bucket")])]),t._v(" "),a("li",[t._v("使用 SFTP 工具连接服务器，停止服务"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("systemctl stop httpd\n")])])])]),t._v(" "),a("li",[t._v("新建一个 "),a("em",[t._v("/data/wwwroot/owncloud2")]),t._v(" 文件夹")]),t._v(" "),a("li",[t._v("将对象存储的 bucket "),a("strong",[t._v("mount")]),t._v(" 到新建的 "),a("em",[t._v("owncloud2")]),t._v(" 文件夹")]),t._v(" "),a("li",[t._v("将 "),a("em",[t._v("/data/wwwroot/owncloud")]),t._v(" 下的数据全部拷贝到 "),a("em",[t._v("/data/wwwroot/owncloud2")])]),t._v(" "),a("li",[t._v("修改 OwnCloud "),a("router-link",{attrs:{to:"/zh/stack-components.html#apache"}},[t._v("虚拟主机配置文件")]),t._v(" 的路径")],1),t._v(" "),a("li",[t._v("启动服务后生效"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("systemctl start httpd\n")])])])]),t._v(" "),a("li",[t._v("设置对象存储开机自动挂载（不同云平台操作不同）")])]),t._v(" "),a("blockquote",[a("p",[t._v("以上两种数据转移方案中，"),a("strong",[t._v("mount")]),t._v(" 操作对新手来说是几乎是不可能独立完成的任务。另外，如果转移的数据超过10G，会存在拷贝失败的风险")])]),t._v(" "),a("h2",{attrs:{id:"owncloud-文件预览与编辑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#owncloud-文件预览与编辑","aria-hidden":"true"}},[t._v("#")]),t._v(" ownCloud 文件预览与编辑")]),t._v(" "),a("p",[t._v("ownCloud 自身是不能对 Office 文件进行预览或编辑的，需要集成外部的 Office 文档编辑和预览服务才可以具备这样的功能。")]),t._v(" "),a("p",[t._v("Websoft9 提供的 ownCloud 部署包内置了 OnlyOffice Document Server(Docker版) ，此软件可以用于给 OwnCloud 提供文档预览与编辑服务，具体设置步骤如下：")]),t._v(" "),a("ol",[a("li",[t._v("开启服务器安全组的 8080 端口")]),t._v(" "),a("li",[t._v("登录到 OwnCloud ，单击左上角进入【Market】页面\n"),a("img",{attrs:{src:"https://libs.websoft9.com/Websoft9/DocsPicture/zh/owncloud/owncloud-preview-1-websoft9.png",alt:""}})]),t._v(" "),a("li",[t._v("找到【ONLYOFFICE】插件，安装它")]),t._v(" "),a("li",[t._v("安装完成后，找到"),a("strong",[t._v("设置")]),t._v("页面，对 ONLYOFFICE 进行如图所示的设置\n"),a("img",{attrs:{src:"https://libs.websoft9.com/Websoft9/DocsPicture/zh/owncloud/owncloud-preview-2-websoft9.png",alt:""}}),t._v(" "),a("blockquote",[a("p",[t._v("图中涂抹处应修改为"),a("strong",[t._v("服务器公网IP")])])])]),t._v(" "),a("li",[t._v("返回到首页，刷新或重新登录，然后单击 Office 文件即可在线预览和编辑。")])])])},[],!1,null,null,null);o.default=r.exports}}]);