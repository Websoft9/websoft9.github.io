(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{231:function(t,e,n){"use strict";n.r(e);var a=n(28),v=Object(a.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"参数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),n("p",[t._v("Nextcloud 预装包包含 Nextcloud 运行所需一序列支撑软件（简称为“组件”），下面列出主要组件名称、安装路径、配置文件地址、端口、版本等重要的信息。")]),t._v(" "),n("h2",{attrs:{id:"路径"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#路径"}},[t._v("#")]),t._v(" 路径")]),t._v(" "),n("h3",{attrs:{id:"nextcloud"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nextcloud"}},[t._v("#")]),t._v(" Nextcloud")]),t._v(" "),n("p",[t._v("Nextcloud 安装目录： "),n("em",[t._v("/data/wwwroot/nextcloud")]),n("br"),t._v("\nNextcloud 配置文件： "),n("em",[t._v("/data/wwwroot/nextcloud/config/config.php")])]),t._v(" "),n("blockquote",[n("p",[t._v("Nextcloud 配置文件中包含数据库连接信息，更改了 MySQL 数据库账号密码，此处也需要对应修改")])]),t._v(" "),n("h3",{attrs:{id:"php"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#php"}},[t._v("#")]),t._v(" PHP")]),t._v(" "),n("p",[t._v("PHP 配置文件： "),n("em",[t._v("/etc/php.ini")]),n("br"),t._v("\nPHP Modules 配置文件目录： "),n("em",[t._v("/etc/php.d")])]),t._v(" "),n("h3",{attrs:{id:"apache"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#apache"}},[t._v("#")]),t._v(" Apache")]),t._v(" "),n("p",[t._v("Nextcloud on LAMP, the Web Server is Apache")]),t._v(" "),n("p",[t._v("Apache 虚拟主机配置文件："),n("em",[t._v("/etc/httpd/conf.d/vhost.conf")]),n("br"),t._v("\nApache 主配置文件： "),n("em",[t._v("/etc/httpd/conf/httpd.conf")]),n("br"),t._v("\nApache 日志文件： "),n("em",[t._v("/var/log/httpd")]),n("br"),t._v("\nApache 模块配置文件： "),n("em",[t._v("/etc/httpd/conf.modules.d/00-base.conf")])]),t._v(" "),n("h3",{attrs:{id:"nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[t._v("#")]),t._v(" Nginx")]),t._v(" "),n("p",[t._v("Nextcloud on LEMP, the Web Server is Nginx")]),t._v(" "),n("p",[t._v("Nginx 虚拟主机配置文件："),n("em",[t._v("/etc/nginx/sites-available/default.conf")]),n("br"),t._v("\nNginx 主配置文件： "),n("em",[t._v("/etc/nginx/nginx.conf")]),n("br"),t._v("\nNginx 日志文件： "),n("em",[t._v("/var/log/nginx/")])]),t._v(" "),n("h3",{attrs:{id:"mysql"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[t._v("#")]),t._v(" MYSQL")]),t._v(" "),n("p",[t._v("MySQL 安装路径: "),n("em",[t._v("/usr/local/mysql")]),n("br"),t._v("\nMySQL 数据文件 "),n("em",[t._v("/data/mysql")]),n("br"),t._v("\nMySQL 配置文件: "),n("em",[t._v("/etc/my.cnf")]),n("br"),t._v("\nMySQL 可视化管理地址: "),n("em",[t._v("http://服务器公网IP/phpmyadmin")]),t._v("，用户名和密码请见 "),n("RouterLink",{attrs:{to:"/zh/stack-accounts.html"}},[t._v("账号密码")]),t._v(" 章节。")],1),t._v(" "),n("h3",{attrs:{id:"phpmyadmin"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#phpmyadmin"}},[t._v("#")]),t._v(" phpMyAdmin")]),t._v(" "),n("p",[t._v("phpMyAdmin installation directory: "),n("em",[t._v("/data/apps/phpmyadmin")]),n("br"),t._v("\nphpMyAdmin configuration file: "),n("em",[t._v("/data/apps/phpmyadmin/config.inc.php")]),n("br"),t._v("\nphpMyAdmin vhost configuration file: "),n("em",[t._v("/etc/httpd/conf.d/phpMyAdmin.conf")]),t._v(" or "),n("em",[t._v("/etc/nginx/php.conf")])]),t._v(" "),n("h3",{attrs:{id:"docker"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[t._v("#")]),t._v(" Docker")]),t._v(" "),n("p",[t._v("部分镜像安装了： OnlyOffice Document Server（Docker版），用于文档预览与编辑")]),t._v(" "),n("h3",{attrs:{id:"redis"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[t._v("#")]),t._v(" Redis")]),t._v(" "),n("p",[t._v("Redis configuration file: "),n("em",[t._v("/etc/redis.conf")]),n("br"),t._v("\nRedis data directory: "),n("em",[t._v("/var/lib/redis")]),n("br"),t._v("\nRedis logs file: "),n("em",[t._v("/var/log/redis/redis.log")])]),t._v(" "),n("h2",{attrs:{id:"端口号"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#端口号"}},[t._v("#")]),t._v(" 端口号")]),t._v(" "),n("p",[t._v("在云服务器中，通过 "),n("strong",[n("a",{attrs:{href:"https://support.websoft9.com/docs/faq/zh/tech-instance.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("安全组设置"),n("OutboundLink")],1)]),t._v(" 来控制（开启或关闭）端口是否可以被外部访问。")]),t._v(" "),n("p",[t._v("本应用建议开启的端口如下：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("名称")]),t._v(" "),n("th",[t._v("端口号")]),t._v(" "),n("th",[t._v("用途")]),t._v(" "),n("th",[t._v("必要性")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("HTTP")]),t._v(" "),n("td",[t._v("80")]),t._v(" "),n("td",[t._v("通过 HTTP 访问 Nextcloud")]),t._v(" "),n("td",[t._v("必须")])]),t._v(" "),n("tr",[n("td",[t._v("HTTPS")]),t._v(" "),n("td",[t._v("443")]),t._v(" "),n("td",[t._v("通过 HTTPS 访问 Nextcloud")]),t._v(" "),n("td",[t._v("可选")])]),t._v(" "),n("tr",[n("td",[t._v("MySQL")]),t._v(" "),n("td",[t._v("3306")]),t._v(" "),n("td",[t._v("远程连接 MySQL")]),t._v(" "),n("td",[t._v("可选")])]),t._v(" "),n("tr",[n("td",[t._v("OnlyOffice Document Server on Docker")]),t._v(" "),n("td",[t._v("9003")]),t._v(" "),n("td",[t._v("调用文档编辑与预览服务")]),t._v(" "),n("td",[t._v("可选")])])])]),t._v(" "),n("h2",{attrs:{id:"版本号"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#版本号"}},[t._v("#")]),t._v(" 版本号")]),t._v(" "),n("p",[t._v("组件版本号可以通过云市场商品页面查看。但部署到您的服务器之后，组件会自动进行更新导致版本号有一定的变化，故精准的版本号请通过在服务器上运行命令查看：")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Linux Version")]),t._v("\nlsb_release -a\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# PHP Version")]),t._v("\nphp -v\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# List Installed PHP Modules")]),t._v("\nphp -m\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Apache version on Centos")]),t._v("\nhttpd -v\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Apache version on Ubuntu")]),t._v("\napache2 -v\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# List Installed Apache Modules")]),t._v("\napachectl -M\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Nginx version")]),t._v("\nnginx -v\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# List Installed Nginx Modules")]),t._v("\nnginx -V\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MySQL version:")]),t._v("\nmysql -V\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Redis version")]),t._v("\nredis-server -v\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Dokcer:")]),t._v("\ndocker --version\n")])])])])}),[],!1,null,null,null);e.default=v.exports}}]);