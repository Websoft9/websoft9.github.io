(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{276:function(e,t,s){"use strict";s.r(t);var r=s(28),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[e._v("#")]),e._v(" 参数")]),e._v(" "),s("p",[e._v("Seafile 预装包包含 Seafile 运行所需一序列支撑软件（简称为“组件”），下面列出主要组件名称、安装路径、配置文件地址、端口、版本等重要的信息。")]),e._v(" "),s("p",[e._v("本项目基于Docker安装，针对容器提供了持久化存储设置，保证数据不会随着容器的生命周期而丢失。通过运行"),s("code",[e._v("docker ps")]),e._v("，可以查看到 Seafile 运行时所有的 Container：")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("CCONTAINER ID        IMAGE                          COMMAND                  CREATED             STATUS              PORTS                                         NAMES\ncb57bbd9f1ef        onlyoffice/documentserver      "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"/bin/sh -c /app/ds/…"')]),e._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(" hours ago         Up "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(" hours          "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.0")]),e._v(".0.0:9002-"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("80")]),e._v("/tcp, "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.0")]),e._v(".0.0:9003-"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("443")]),e._v("/tcp   documentserver\n3878b29258e2        seafileltd/seafile-mc:latest   "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"/sbin/my_init -- /s…"')]),e._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("5")]),e._v(" hours ago         Up About an hour    "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.0")]),e._v(".0.0:80-"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("80")]),e._v("/tcp                            seafile\n4974ad7c20e8        memcached:1.5.6                "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"memcached -m 256"')]),e._v("       "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("5")]),e._v(" hours ago         Up "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(" hours          "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("11211")]),e._v("/tcp                                     seafile-memcached\nc8d87bd732d7        mariadb:10.1                   "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"docker-entrypoint.s…"')]),e._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("5")]),e._v(" hours ago         Up "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(" hours          "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("3306")]),e._v("/tcp                                      seafile-mysql\n\n")])])]),s("h2",{attrs:{id:"路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路径"}},[e._v("#")]),e._v(" 路径")]),e._v(" "),s("p",[e._v("下面主要列出Docker有关的参数：")]),e._v(" "),s("h3",{attrs:{id:"docker-compose"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[e._v("#")]),e._v(" Docker Compose")]),e._v(" "),s("p",[e._v("本环境使用 Docker Compose 作为容器编排（调度）工具，用于管理多个容器配置、启动和服务连接。")]),e._v(" "),s("p",[e._v("Docker Compose 配置文件 "),s("em",[e._v("/data/docker-compose.yml")]),s("br"),e._v("\nDocker Compose 命令位置："),s("em",[e._v("/usr/local/bin/docker-compose")])]),e._v(" "),s("h3",{attrs:{id:"seafile"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#seafile"}},[e._v("#")]),e._v(" Seafile")]),e._v(" "),s("p",[e._v("Seafile 主目录："),s("em",[e._v("/data/seafile/seafile")]),s("br"),e._v("\nSeafile 日志目录："),s("em",[e._v("/data/seafile/logs")]),s("br"),e._v("\nSeafile 自上传证书目录："),s("em",[e._v("/data/seafile/ssl")])]),e._v(" "),s("p",[e._v("Seafile 主目录下包括：conf,seafile-data等重要目录")]),e._v(" "),s("h3",{attrs:{id:"mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[e._v("#")]),e._v(" MySQL")]),e._v(" "),s("p",[e._v("MySQL 数据持久存储："),s("em",[e._v("/data/mysql")])]),e._v(" "),s("h3",{attrs:{id:"onlyoffice-document-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#onlyoffice-document-server"}},[e._v("#")]),e._v(" OnlyOffice Document Server")]),e._v(" "),s("p",[e._v("OnlyOffice Document Server 证书持久存储："),s("em",[e._v("/data/certs/onlyoffice_DocumentServer")]),s("br"),e._v("\nOnlyOffice Document Server 日志持久存储："),s("em",[e._v("/data/logs/onlyoffice_DocumentServer")]),s("br"),e._v("\nOnlyOffice Document Server 数据持久存储："),s("em",[e._v("/data/wwwroot/onlyoffice_DocumentServer/data")]),s("br"),e._v("\nOnlyOffice Document Server 配置持久存储："),s("em",[e._v("/data/wwwroot/onlyoffice_DocumentServer/lib")]),s("br"),e._v("\nOnlyOffice Document Server 数据库持久存储："),s("em",[e._v("data/onlyoffice_DocumentServer_postgresql")])]),e._v(" "),s("h3",{attrs:{id:"docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[e._v("#")]),e._v(" Docker")]),e._v(" "),s("p",[e._v("Docker 根目录: "),s("em",[e._v("/var/lib/docker")]),s("br"),e._v("\nDocker 镜像目录: "),s("em",[e._v("/var/lib/docker/image")]),s("br"),e._v("\nDocker 存储卷："),s("em",[e._v("/var/lib/docker/volumes")]),s("br"),e._v("\nDocker daemon.json 文件：默认没有创建，请到 "),s("em",[e._v("/etc/docker")]),e._v(" 目录下根据需要自行创建")]),e._v(" "),s("h2",{attrs:{id:"端口号"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#端口号"}},[e._v("#")]),e._v(" 端口号")]),e._v(" "),s("p",[e._v("下面是您在使用本镜像过程中，需要用到的端口号，请通过 "),s("a",{attrs:{href:"https://support.websoft9.com/docs/faq/zh/tech-instance.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("云控制台安全组"),s("OutboundLink")],1),e._v("进行设置")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("名称")]),e._v(" "),s("th",[e._v("端口号")]),e._v(" "),s("th",[e._v("用途")]),e._v(" "),s("th",[e._v("必要性")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("HTTP")]),e._v(" "),s("td",[e._v("80")]),e._v(" "),s("td",[e._v("通过 http 访问 Seafile")]),e._v(" "),s("td",[e._v("必须")])]),e._v(" "),s("tr",[s("td",[e._v("HTTPS")]),e._v(" "),s("td",[e._v("443")]),e._v(" "),s("td",[e._v("通过 https 访问 Seafile")]),e._v(" "),s("td",[e._v("可选")])]),e._v(" "),s("tr",[s("td",[e._v("HTTP")]),e._v(" "),s("td",[e._v("9002")]),e._v(" "),s("td",[e._v("通过 http 访问 OnlyOffice Document Server")]),e._v(" "),s("td",[e._v("可选")])]),e._v(" "),s("tr",[s("td",[e._v("HTTPS")]),e._v(" "),s("td",[e._v("9003")]),e._v(" "),s("td",[e._v("通过 https访问 OnlyOffice Document Server")]),e._v(" "),s("td",[e._v("可选")])])])]),e._v(" "),s("h2",{attrs:{id:"版本号"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#版本号"}},[e._v("#")]),e._v(" 版本号")]),e._v(" "),s("p",[e._v("组件版本号可以通过云市场商品页面查看。但部署到您的服务器之后，组件会自动进行更新导致版本号有一定的变化，故精准的版本号请通过在服务器上运行命令查看：")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Linux Version")]),e._v("\nlsb_release -a\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Python Version")]),e._v("\npython --version\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Docker Version")]),e._v("\ndocker -v\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Docker image lists(includes version)")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" docker images\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Docker Compose Version")]),e._v("\ndocker-compose --version\n")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);