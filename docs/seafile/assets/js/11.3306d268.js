(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{255:function(e,t,a){"use strict";a.r(t);var s=a(28),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"ssl-https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssl-https"}},[e._v("#")]),e._v(" SSL/HTTPS")]),e._v(" "),a("p",[e._v("Seafile deployment package has installed the SSL module of Nginx and open Certificate Authority "),a("strong",[a("a",{attrs:{href:"https://letsencrypt.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Let's Encrypt"),a("OutboundLink")],1)]),e._v(" for you configure the HTTPS quickly and conveniently.")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Use the SFTP to connect Server, edit "),a("RouterLink",{attrs:{to:"/stack-components.html#docker-compose"}},[e._v("docker-compose configuration file")]),e._v(" "),a("img",{attrs:{src:"https://libs.websoft9.com/Websoft9/DocsPicture/zh/seafile/seafile-editconfig-websoft9.png",alt:""}})],1)]),e._v(" "),a("li",[a("p",[e._v("You should modify three items at least, then save it")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("  seafile:\n image: seafileltd/seafile-mc:latest\n container_name: seafile\n ports:\n   - \"80:80\"\n   - \"443:443\"  # If https is enabled, cancel the comment.\n volumes:\n   - /data/seafile:/shared   # Requested, specifies the path to Seafile data persistent store.\n environment:\n   - DB_HOST=db\n   - DB_ROOT_PASSWD=123456  # Requested, the value shuold be root's password of MySQL service.\n  #      - TIME_ZONE=Asia/Shanghai # Optional, default is UTC. Should be uncomment and set to your local time zone.\n   - SEAFILE_ADMIN_EMAIL=admin@admin.com # Specifies Seafile admin user, default is 'me@example.com'.\n   - SEAFILE_ADMIN_PASSWORD=admin123   # Specifies Seafile admin password, default is 'asecret'.\n   - SEAFILE_SERVER_LETSENCRYPT=true   # Whether use letsencrypt to generate cert.\n   - SEAFILE_SERVER_HOSTNAME=seafile.websoft9.cn # Specifies your host name.\n\n")])])]),a("ul",[a("li",[e._v('Remove # to enable "443:443"')]),e._v(" "),a("li",[e._v("SEAFILE_SERVER_LETSENCRYPT set to "),a("strong",[e._v("true")])]),e._v(" "),a("li",[e._v("SEAFILE_SERVER_HOSTNAME set to you domain")])])]),e._v(" "),a("li",[a("p",[e._v("Run the compose command to rebuild them")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo cd /data && docker-compose up -d\n")])])])]),e._v(" "),a("li",[a("p",[e._v("HTTPS settings completed")])])]),e._v(" "),a("p",[e._v("The steps above is from  Seafile official docs: "),a("a",{attrs:{href:"https://download.seafile.com/published/seafile-manual/deploy/deploy_with_docker.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Let's encrypt SSL certificate"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"faqs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#faqs"}},[e._v("#")]),e._v(" FAQs")]),e._v(" "),a("h4",{attrs:{id:"seafile-container-is-not-running-after-the-https-setting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#seafile-container-is-not-running-after-the-https-setting"}},[e._v("#")]),e._v(" Seafile container is not running after the HTTPS setting?")]),e._v(" "),a("p",[e._v("Please run the command "),a("code",[e._v("sudo docker logs seafile")]),e._v(" to check the error and repair it")]),e._v(" "),a("h4",{attrs:{id:"can-i-set-the-https-if-no-domain-prepared-for-seafile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#can-i-set-the-https-if-no-domain-prepared-for-seafile"}},[e._v("#")]),e._v(" Can I set the HTTPS if no Domain prepared for Seafile?")]),e._v(" "),a("p",[e._v("No, if you set "),a("strong",[e._v("SEAFILE_SERVER_HOSTNAME")]),e._v(" as IP, the Seafile container can't run again")])])}),[],!1,null,null,null);t.default=n.exports}}]);