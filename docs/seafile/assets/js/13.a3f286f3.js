(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{257:function(e,t,o){"use strict";o.r(t);var n=o(28),r=Object(n.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"online-file-preview-and-edit"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#online-file-preview-and-edit"}},[e._v("#")]),e._v(" Online File preview and edit")]),e._v(" "),o("p",[e._v("Seafile opensource edition supports the "),o("strong",[e._v("OnlyOffice Document Server")]),e._v(" for file preview and edit. This deployment solution have installed the "),o("strong",[e._v("OnlyOffice Document Server")]),e._v(", so you just need to configure it if you want to use it")]),e._v(" "),o("h2",{attrs:{id:"preparation"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#preparation"}},[e._v("#")]),e._v(" Preparation")]),e._v(" "),o("ol",[o("li",[e._v("Enable the "),o("strong",[e._v("TCP:9003")]),e._v(" port in your "),o("strong",[o("a",{attrs:{href:"https://support.websoft9.com/docs/faq/tech-instance.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Inbound of Security Group Rule"),o("OutboundLink")],1)]),e._v(" of Cloud Console")]),e._v(" "),o("li",[e._v("Use the Chrome or Firefox to test it: visit the URL https://Internt IP of Server:9003, you can see the information "),o("strong",[e._v("Document Server is running")]),e._v(" "),o("img",{attrs:{src:"https://libs.websoft9.com/Websoft9/DocsPicture/zh/onlyoffice/onlyoffice-dkisrunning-websoft9.png",alt:""}})])]),e._v(" "),o("h2",{attrs:{id:"configuration"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[e._v("#")]),e._v(" Configuration")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("Use the "),o("strong",[e._v("SFTP")]),e._v(" to connect Server, edit the "),o("RouterLink",{attrs:{to:"/stack-components.html#seafile"}},[e._v("Seafile's configuration file")])],1)]),e._v(" "),o("li",[o("p",[e._v("Insert the template like below")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("# Enable Only Office\nENABLE_ONLYOFFICE = True\nVERIFY_ONLYOFFICE_CERTIFICATE = False\nONLYOFFICE_APIJS_URL = 'https://119.8.39.175:9003/web-apps/apps/api/documents/api.js'\nONLYOFFICE_FILE_EXTENSION = ('doc', 'docx', 'ppt', 'pptx', 'xls', 'xlsx', 'odt', 'fodt', 'odp', 'fodp', 'ods', 'fods')\nONLYOFFICE_EDIT_FILE_EXTENSION = ('docx', 'pptx', 'xlsx')\n")])])]),o("blockquote",[o("p",[e._v("Set "),o("strong",[e._v("IP")]),e._v(" to your Server's Internet IP for the item "),o("strong",[e._v("ONLYOFFICE_APIJS_URL")])])])]),e._v(" "),o("li",[o("p",[e._v("Restart the Docker of Seafile")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("sudo docker restart seafile\n")])])])]),e._v(" "),o("li",[o("p",[e._v("Now, please opent the Seafile's console to test the previwe and edit")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);