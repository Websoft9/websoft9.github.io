<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Django Image Guide(Linux)</title>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

    <link rel="stylesheet" type="text/css" href="https://en.websoft9.com/wp-content/plugins/xdocs/themes/theme1/assets/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://en.websoft9.com/wp-content/plugins/xdocs/themes/theme1/assets/css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="https://en.websoft9.com/wp-content/plugins/xdocs/themes/theme1/assets/css/prism.css">
    <link rel="stylesheet" type="text/css" href="https://en.websoft9.com/wp-content/plugins/xdocs/themes/theme1/assets/css/layout.css">
    <link rel="stylesheet" type="text/css" href="https://en.websoft9.com/wp-content/plugins/xdocs/themes/theme1/assets/css/skin-blue.css">

    <link rel="stylesheet" type="text/css" href="https://en.websoft9.com/wp-content/plugins/xdocs/themes/theme1/assets/css/style.css">

    <!-- All dynamic styles -->
        <style type="text/css">
        
    </style>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
              <style>
            .xdocs-pre-loader{
                background: url(https://en.websoft9.com/wp-content/plugins/xdocs/assets/img/loader1.gif) center no-repeat #fff;
            }
        </style>

          </head>
  <body class="skin-blue fixed" data-spy="scroll" data-target="#scrollspy">


    
    <div class="xdocs-pre-loader"></div>    <div class="wrapper">
      <header class="main-header">
          <!-- Sidebar toggle button-->
          <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
            <span class="sr-only">Toggle navigation</span>
          </a>
      </header>
      <!-- Left side column. contains the logo and sidebar --><aside class="main-sidebar">
  <ul class='social'><li><a target='_blank' href='http://en.websoft9.com' ><i class='fa fa-home'></i></a></li><li><a target='_blank' href='https://github.com/django/django' ><i class='fa fa-github'></i></a></li><li><a target='_blank' href='http://en.websoft9.com/support' ><i class='fa fa-support'></i></a></li></ul>  
  <!-- sidebar: style can be found in sidebar.less -->
  <div class="sidebar" id="scrollspy">
    <!-- sidebar menu: : style can be found in sidebar.less -->
    <ul class="nav sidebar-menu">
      <li class="active"><a href="#introduction">Introduction</a>

                  
                             

               <li class=""><a href="#django-stack-components">Django Stack Components</a>

                    
              
                             

               <li class=""><a href="#verify-the-image">Verify the Image</a>

                    
              
                             

               <li class=""><a href="#will-be-used-usernames-and-passwords">Will be used Usernames and Passwords</a>

                    
              
                 
                   <li  class="treeview w9-fathermenu-arrow" id="scrollspy-components"><a href="#how-to-connect-server">How to connect Server?</a>
                  <ul class="nav treeview-menu"><li class=""><a href="#connect-to-a-linux-instance-using-windows-os">Connect to a Linux instance using Windows OS</a><li class=""><a href="#use-management-terminal-to-connect-to-an-ecs-instance">Use Management Terminal to connect to an ECS instance</a></ul>                </li>

              
              
                             

               <li class=""><a href="#how-to-use-sftp">How to use SFTP?</a>

                    
              
                             

               <li class=""><a href="#how-to-add-your-django-application">How to add your Django Application?</a>

                    
              
                             

               <li class=""><a href="#how-to-use-django-with-uwsgi">How to use Django with uWSGI?</a>

                    
              
                             

               <li class=""><a href="#how-to-start-or-stop-the-services">How to start or stop the services?</a>

                    
              
                             

               <li class=""><a href="#how-to-add-a-domain">How to add a domain?</a>

                    
              
                             

               <li class=""><a href="#useful-django-command">Useful Django Command</a>

                    
              
                 
                   <li  class="treeview w9-fathermenu-arrow" id="scrollspy-components"><a href="#backup">Backup</a>
                  <ul class="nav treeview-menu"><li class=""><a href="#automatic-backup-by-snapshot-of-server">Automatic Backup by Snapshot of Server</a></ul>                </li>

              
              
                             

               <li class=""><a href="#django-help-links">Django Help Links</a>

                    
              
                             

               <li class=""><a href="#postscript">Postscript</a>

                    
              
            </ul>
          </div>
    </aside>
<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
    <!-- Main content -->
    <div class="content body">


         <!-- Introduction Section -->
          <section id="introduction">
            <div class='section-content'>
              <div class="content-header">
                <h1>Django Image Guide(Linux)</h1>
                              <div class="version"> Version Django1.11.6</div>
                       </div>
              <div class="row">
                <div class="col-sm-12">
                                   </div>
              </div>
              <div class="row">
                  <div class="col-sm-12">
                     <p>Websoft9 Django stack is a pre-configured, ready to run image for running Django application on Alibaba Cloud.</p>
<p>Django is a high-level Python Web framework that encourages rapid development and clean, pragmatic design. Built by experienced developers, it takes care of much of the hassle of Web development, so you can focus on writing your app without needing to reinvent the wheel. It’s free and open source.</p>
<p><img class="alignnone size-medium" src="http://libs.websoft9.com/Websoft9/DocsPicture/en/django/djangoui-websoft9.jpg" width="1280" height="720" /></p>
                  </div>
              </div>
            </div>
          </section>
          <!-- End Introduction Section -->


  <section id="django-stack-components" class="stickem-container">
  <div class='section-content'><h2 class='page-header'>Django Stack Components</h2><p><strong>Environment Software(Django1.11.6,Python)<br />
</strong>Django applicaton root directory: <i>/data/wwwroot<br />
</i>Example demo program: <em>/data/wwwroot/example</em> (this demo used the sqlite database)</p>
<p><strong>Application Server(Nginx1.12.1,uWSGI2.0.12 )</strong><br />
uwsgi configuration file directory: <em>/etc/uwsgi/apps-available/</em><br />
nginx configuration file directory: <em>/etc/nginx/sites-available/</em></p>
<p><strong>Database(MySQL5.7)</strong><br />
MySQL Configuration file: <em>/etc/mongod.conf</em><br />
MySQL data directory: <em>/etc/mysql/mysql.conf.d/mysqld.cnf<br />
</em></p>
<p>Django’s primary deployment platform is uWSGI, the Python standard for web servers and applications.</p>
</div>  </section>

  <section id="verify-the-image" class="stickem-container">
  <div class='section-content'><h2 class='page-header'>Verify the Image</h2><p>After the installation of Image,please verify it</p>
<ul>
<li>Login on Alibaba Cloud console,get you Internet IP Address<br />
<img class="alignnone size-medium" src="http://libs.websoft9.com/Websoft9/DocsPicture/en/alicloud/alibabacloud-getip-websoft9.png" width="1480" height="489" /></li>
<li>Open you Chrome or Firefox on your local PC,visit the <em><strong>http://Internet IP Address</strong>,</em>you can see the welcome information like “<span style="color: #ff0000;">It worked!Congratulations on your first Django-powered page.</span>”,if there no response from browser,please check the <a href="https://www.alibabacloud.com/help/doc-detail/25471.htm" target="_blank" rel="noopener noreferrer">Security Group settings</a> to ensure that port 80 is been allowed</li>
</ul>
</div>  </section>

  <section id="will-be-used-usernames-and-passwords" class="stickem-container">
  <div class='section-content'><h2 class='page-header'>Will be used Usernames and Passwords</h2><p>Two usernames and passwords are required for application installation, application using, and application maintenance:</p>
<p><strong>1、MySQL Database:</strong>usename and password is <span style="color: #ff0000;">root/123456</span></p>
<p><strong>2、Linux Server:</strong>Username is <em>root</em> or <em>ubuntu</em>,Password is<strong> </strong>set by youself when buying.<br />
Please Using the <a href="http://www.putty.org/" target="_blank" rel="noopener noreferrer">P<em>utty</em></a> for ssh remote and <a href="https://winscp.net/" target="_blank" rel="noopener noreferrer"><em>WinSCP</em></a> for SFTP</p>
<p>Note:You can reset the password of OS through Cloud Console if you have forgotten it</p>
</div>  </section>

  <section id="how-to-connect-server" class="stickem-container">
  <div class='section-content'><h2 class='page-header'>How to connect Server?</h2><div id='connect-to-a-linux-instance-using-windows-os' class='step-content clearfix'><h3 class='steps-header'><a href='#connect-to-a-linux-instance-using-windows-os'>Connect to a Linux instance using Windows OS</a></h3><div id="connect-to-a-linux-instance-using-windows-os" class="step-content clearfix">
<p>This section uses PuTTY as an example. PuTTY can be downloaded <a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/" target="_blank" rel="noopener noreferrer">here</a>.</p>
<p>You can connect to a Linux instance via PuTTY as follows:</p>
<ol>
<li>Start Putty.exe.</li>
<li>Enter the public IP address of the instance in <strong>Host Name (or IP address)</strong>.</li>
<li>Use the default port <strong>22</strong>.</li>
<li>Select <strong>SSH</strong> as <strong>Connection Type</strong>.</li>
<li>Type a session name in <strong>Saved Sessions</strong>, and then click <strong>Save</strong>. In later logins, you may directly load the session without re-entering the IP address.</li>
<li>Click <strong>Open</strong> to connect.<br />
<img class="alignnone size-medium" src="http://libs.websoft9.com/Websoft9/DocsPicture/en/alicloud/ecs_QS_Connect_Putty.gif" width="454" height="436" /></li>
<li>Upon first connection, the following dialog box will be displayed. Click <strong>Yes</strong>.<br />
<img class="alignnone size-medium" src="http://libs.websoft9.com/Websoft9/DocsPicture/en/alicloud/ecs_QS_Connect_Putty_confirm.png" width="419" height="304" /></li>
<li>As prompted, enter the username and password for the Linux ECS instance. The password will not be displayed on-screen. Press the <strong>Enter</strong> key to complete connection to the instance.<br />
<img class="alignnone size-medium" src="http://libs.websoft9.com/Websoft9/DocsPicture/en/alicloud/ecs_QS_Connect_Putty_pw.png" width="686" height="179" /></li>
</ol>
<p>When you connect your computer to the Linux instance successfully, you can operate the instance from your computer.</p>
</div>
<div id="use-management-terminal-to-connect-to-an-ecs-instance" class="step-content clearfix"></div>
</div><div id='use-management-terminal-to-connect-to-an-ecs-instance' class='step-content clearfix'><h3 class='steps-header'><a href='#use-management-terminal-to-connect-to-an-ecs-instance'>Use Management Terminal to connect to an ECS instance</a></h3><p>Refer to <a href="https://www.alibabacloud.com/help/doc-detail/25433.htm">Use Management Terminal (VNC) to connect to an ECS instance</a>.</p>
</div></div>  </section>

  <section id="how-to-use-sftp" class="stickem-container">
  <div class='section-content'><h2 class='page-header'>How to use SFTP?</h2><p>Use SFTP you can mange file,upload and download file,configure Server.</p>
<ol>
<li>Start WinSCP. Login Dialog will appear.</li>
<li>Then select your File protocol(SFTP) on the dialog</li>
<li>Enter your host name to Host name field, username to User name and password to Password like below<br />
<img class="alignnone size-medium" src="http://libs.websoft9.com/Websoft9/DocsPicture/en/winscp/winscp-newsite-websoft9.png" width="960" height="500" /></li>
<li>You may want to save your session details to a site so you do not need to type them in every time you want to connect. Press Save button and type site name.</li>
<li>When appear the dialog below,please select the “yes”<br />
<img class="alignnone size-medium" src="http://libs.websoft9.com/Websoft9/DocsPicture/en/winscp/winscp-newsitey-websoft9.png" width="960" height="500" /></li>
<li>You can manane Linux file below<br />
<img class="alignnone size-medium" src="http://libs.websoft9.com/Websoft9/DocsPicture/en/winscp/winscp-file-websoft9.png" width="960" height="629" /></li>
<li>WinSCP can integrate the Putty and transfer the log in information to Putty<br />
<img class="alignnone size-medium" src="http://libs.websoft9.com/Websoft9/DocsPicture/en/winscp/winscp-putty-websoft9.png" width="960" height="536" /></li>
<li>Now you can use Putty(Not need to log in) from the menu bar of WinSCP<br />
<img class="alignnone size-medium" src="http://libs.websoft9.com/Websoft9/DocsPicture/en/winscp/winscp-puttyclick-websoft9.png" width="960" height="200" /></li>
</ol>
</div>  </section>

  <section id="how-to-add-your-django-application" class="stickem-container">
  <div class='section-content'><h2 class='page-header'>How to add your Django Application?</h2><p>This stack using the uwsgi for  WebServer and Nginx for reverse proxy.Below is is the common methods for adding new application on the Django Stack:</p>
<ol>
<li>Add a new folder (assume folder name is &#8220;your_app&#8221;) to the /data/wwwroot/</li>
<li>Install the dependencies and frameworks required for the installer under the directory<em> /data/wwwroot/your_app</em>
<pre><code class="language-markup">[root@iZbp1i4rjdsy216yq7lgucZ ~]# cd /data/wwwroot/your_app
[root@iZbp1i4rjdsy216yq7lgucZ your_app]# pip install -r requirements.txt</code></pre>
</li>
<li>Add a new database and the user if necessary(the default account of MySQL is <span style="color: #ff6600;"><em>root/123456</em></span>)</li>
<li>Modify your Django application configuration file(the default name is settings.py most of the time )</li>
<li>After running the command &#8220;python manage.py runserver &#8220;,you may receive the feedback message &#8220;Starting development server at http://127.0.0.1:8000/ Quit the server with CONTROL-C.&#8221;,it means the application running successfully.
<pre><code class="language-markup">[root@iZbp1i4rjdsy216yq7lgucZ your_app]# python manage.py runserver</code></pre>
</li>
<li>Configure the Webserver: Modify the the configuration file <em>/etc/uwsgi/apps-available/app.ini,</em>below is the example for you:
<pre><code class="language-markup">[uwsgi]
plugins       = python
master        = true
protocol      = uwsgi
socket        = 127.0.0.1:8080  //make sure the port is available
wsgi-file     = /data/wwwroot/example/example/wsgi.py  //make sure the path of wsgi.py is true
chdir         = /data/wwwroot/example //
buffer-size   = 8192
enable-threads= true
close-on-exec = true
umask         = 0022
uid           = www-data</code></pre>
</li>
<li>Configure the Nginx: <em>/etc/nginx/sites-available/default,</em>make sure the port is same as uWSGI configuration.<br />
note:The Nginx confiuration need more details settings for yourself</li>
<li>Restart the services
<pre><code class="language-markup">systemctl restart uwsgi 
netstat -anopt |grep uwsgi // show the status of uwsgi</code></pre>
</li>
</ol>
</div>  </section>

  <section id="how-to-use-django-with-uwsgi" class="stickem-container">
  <div class='section-content'><h2 class='page-header'>How to use Django with uWSGI?</h2><p><a class="reference external" href="https://uwsgi-docs.readthedocs.io/">uWSGI</a> is a fast, self-healing and developer/sysadmin-friendly application container server coded in pure C.</p>
<p><a href="https://docs.djangoproject.com/en/1.11/howto/deployment/wsgi/uwsgi/" target="_blank" rel="noopener">https://docs.djangoproject.com/en/1.11/howto/deployment/wsgi/uwsgi/</a></p>
</div>  </section>

  <section id="how-to-start-or-stop-the-services" class="stickem-container">
  <div class='section-content'><h2 class='page-header'>How to start or stop the services?</h2><p>You can use the command to manage the services for Server.Please choose the corresponding command mode according to different types of operating system</p>
<ul>
<li>Ngnix Service
<pre><code class="language-markup">~# systemctl restart nginx.service</code></pre>
</li>
<li>Other Service</li>
</ul>
</div>  </section>

  <section id="how-to-add-a-domain" class="stickem-container">
  <div class='section-content'><h2 class='page-header'>How to add a domain?</h2><p>If you want use Domain for this application,you should complete below steps:</p>
<ul>
<li>Domain resolution if you want to use (Add an A record to the Internet IP Address of Server from your Domain Control Panel)</li>
<li>Modiy the Apache configuration file:<em> /etc/nginx/sites-available/default<br />
</em></p>
<pre class=" language-markup"><code class=" language-markup">server {
...
        listen 80 default_server;
        server_name _;//add you domain here
...
}
</code></pre>
</li>
<li>Restart the services</li>
</ul>
</div>  </section>

  <section id="useful-django-command" class="stickem-container">
  <div class='section-content'><h2 class='page-header'>Useful Django Command</h2><p>Flowing is some useful command of Django:</p>
<pre><code class="language-markup">//View Django version
root@iZuf65n6gzuzce01ma4usiZ:~# django-admin --version
</code></pre>
<p>&nbsp;</p>
</div>  </section>

  <section id="backup" class="stickem-container">
  <div class='section-content'><h2 class='page-header'>Backup</h2><p>Routine backup (archives) of the database and application setup is essential to ensure failover is smooth.</p>
<p>Backup is based on the server snapshot automatic backup and manual local backup in two ways, both of which have their own advantages and disadvantages, it is recommended to use together</p>
<div id='automatic-backup-by-snapshot-of-server' class='step-content clearfix'><h3 class='steps-header'><a href='#automatic-backup-by-snapshot-of-server'>Automatic Backup by Snapshot of Server</a></h3><p>IaaS provider have the “snapshot” function for Server, the snapshot is for the server disk. Snapshot tool can record the specified point in time the hard disk data, all backed up, and can achieve a key recovery.</p>
<p>If you have an automatic snapshot of the disk settings, the following scenes you can be more calm face:</p>
<ul>
<li>Work a few days of the results, was mistakenly deleted</li>
<li>Hackers damage your site</li>
<li>The content has been messed up</li>
</ul>
<p>Done a snapshot backup, a key to restore to the backup point of time state. That is, on-site reduction, very good function.</p>
<p>Different cloud vendor snapshot settings slightly different, specific reference:</p>
<ul>
<li><a href="https://www.alibabacloud.com/help/doc-detail/25455.htm" target="_blank" rel="noopener noreferrer">How to use Alicloud snapshot? </a></li>
</ul>
</div></div>  </section>

  <section id="django-help-links" class="stickem-container">
  <div class='section-content'><h2 class='page-header'>Django Help Links</h2><h3 class="steps-header">Links</h3>
<ul>
<li><a href="https://www.djangoproject.com/" target="_blank" rel="noopener">Django – The Web framework for perfectionists with deadlines &#8230;</a></li>
</ul>
</div>  </section>

  <section id="postscript" class="stickem-container">
  <div class='section-content'><h2 class='page-header'>Postscript</h2><p>This document is original from Websoft9.In order to ensure the seriousness and usability of the documentation, no one may misappropriate or modify the second distribution. The need for friends reproduced please mark the source, otherwise we reserve the right to give legal action.</p>
<p>We will periodically update the documentation. Please visit the online documentation for the latest version</p>
<p>This document URL: <a href="http://en.websoft9.com/xdocs/django-image-guide/" target="_blank" rel="noopener noreferrer">http://en.websoft9.com/xdocs/django-image-guide/</a><br />
Support &amp; Partnership: <a href="http://www.websoft9.com/">http://www.websoft9.com</a></p>
</div>  </section>

    </div><!-- /.content -->
</div><!-- /.content-wrapper -->
      

  <footer class="main-footer">

      <div class="pull-right hidden-xs">
                        <div class="version"> Version Django1.11.6</div>
               </div>

    <div class="copyrights">Websoft9</div>  </footer>


</div><!-- ./wrapper -->


    <script type="text/javascript" src="https://en.websoft9.com/wp-content/plugins/xdocs/themes/theme1/assets/js/jQuery-2.2.0.min.js"></script>
    <script type="text/javascript" src="https://en.websoft9.com/wp-content/plugins/xdocs/themes/theme1/assets/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://en.websoft9.com/wp-content/plugins/xdocs/themes/theme1/assets/js/app.js"></script>
    <script type="text/javascript" src="https://en.websoft9.com/wp-content/plugins/xdocs/themes/theme1/assets/js/jquery.stickem.js"></script>
    <script type="text/javascript" src="https://en.websoft9.com/wp-content/plugins/xdocs/themes/theme1/assets/js/jquery.slimscroll.min.js"></script>
    <script type="text/javascript" src="https://en.websoft9.com/wp-content/plugins/xdocs/themes/theme1/assets/js/prism.js"></script>
    <script type="text/javascript" src="https://en.websoft9.com/wp-content/plugins/xdocs/themes/theme1/assets/js/docs.js"></script>
    </body>
</html>